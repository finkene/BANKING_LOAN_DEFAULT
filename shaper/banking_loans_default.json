{"name":"banking_loans_default.csv_flow","pipeline":{"version":"1.0","doc_type":"pipeline","app_data":{"shaperCreated":true,"replace_space_by_dot":true},"primary_pipeline":"pipeline1","pipelines":[{"id":"pipeline1","runtime":"Spark","nodes":[{"id":"source1","data_asset":{"app_data":{"project_name":"FSS_DEMO_NF","dataset_name":"banking_loans_default.csv"}},"type":"binding","output":{"id":"source1output"}},{"id":"213a636f-f31a-4442-894c-f94416b41e7b","type":"execution_node","op":"com.ibm.wdp.transformer.FreeformCode","app_data":{"uiParams":{"key":"replaceSubstringOp","code":"mutate(`AVG_CASH_BAL` = stringr::str_replace_all(`AVG_CASH_BAL`, stringr::fixed(\"K\"), \"\"))","args":{"column":"AVG_CASH_BAL","replaceOption":"text","in_value":"K","out_value":"","replaceAllFlag":true,"newColumnName":""}}},"parameters":{"FREEFORM_CODE":"spark_apply(function(df) dplyr::mutate(df, `AVG_CASH_BAL` = stringr::str_replace_all(`AVG_CASH_BAL`, stringr::fixed(\"K\"), \"\")), memory=FALSE, names = c('SATISFACTION','CHURN','AVG_CASH_BAL','AGE','AGE_RNG','GENDER','NUM_PRODUCTS','CUST_ACQ_YR','NUM_UNIQ_PRODUCTS','EQUITIES_BAL','INIT_MORTG_AMT','NUM_ADDR_CHNGS','HOUSEHOLD_ID','CLNTS_IN_HSHLD','AVG_CARD_BAL','CUST_TYPE','HOME_BRANCH_CTY','HOME_BRANCH_ST','SALESPERSON_ID','NUM_LATE_PYMNTS','NUM_CARD_APPLS','BANKRUPTCY_LAST_7YRS','MONTHLY_MORTGAGE_PYMNT','CREDIT_SCORE','DEFAULT'))"},"inputs":[{"id":"inputPort1","links":[{"node_id_ref":"source1","port_id_ref":"source1output"}]}],"outputs":[{"id":"outputPort1"}]},{"id":"99df2273-b0cd-41a1-a34a-fd861b748d53","type":"execution_node","op":"com.ibm.wdp.transformer.FreeformCode","app_data":{"uiParams":{"key":"mutate","code":"mutate(`AVG_CASH_BAL` = as.double(`AVG_CASH_BAL`))","args":{"column":"AVG_CASH_BAL","type":"as.double","actualType":"String","newColumnName":""}}},"parameters":{"FREEFORM_CODE":"mutate(`AVG_CASH_BAL` = as.double(`AVG_CASH_BAL`))%>%select('SATISFACTION','CHURN','AVG_CASH_BAL','AGE','AGE_RNG','GENDER','NUM_PRODUCTS','CUST_ACQ_YR','NUM_UNIQ_PRODUCTS','EQUITIES_BAL','INIT_MORTG_AMT','NUM_ADDR_CHNGS','HOUSEHOLD_ID','CLNTS_IN_HSHLD','AVG_CARD_BAL','CUST_TYPE','HOME_BRANCH_CTY','HOME_BRANCH_ST','SALESPERSON_ID','NUM_LATE_PYMNTS','NUM_CARD_APPLS','BANKRUPTCY_LAST_7YRS','MONTHLY_MORTGAGE_PYMNT','CREDIT_SCORE','DEFAULT')"},"inputs":[{"id":"inputPort1","links":[{"node_id_ref":"213a636f-f31a-4442-894c-f94416b41e7b","port_id_ref":"outputPort1"}]}],"outputs":[{"id":"outputPort2"}]},{"id":"6a8c8983-8452-4729-9112-07b6066f5201","type":"execution_node","op":"com.ibm.wdp.transformer.FreeformCode","app_data":{"uiParams":{"key":"calculateNewColumn","code":"mutate(`AVG_CASH_BAL` = `AVG_CASH_BAL`*1000)","args":{"column":"AVG_CASH_BAL","operator":"*","option":"value","value":"1000","newColumnName":""}}},"parameters":{"FREEFORM_CODE":"mutate(`AVG_CASH_BAL` = `AVG_CASH_BAL`*1000)%>%select('SATISFACTION','CHURN','AVG_CASH_BAL','AGE','AGE_RNG','GENDER','NUM_PRODUCTS','CUST_ACQ_YR','NUM_UNIQ_PRODUCTS','EQUITIES_BAL','INIT_MORTG_AMT','NUM_ADDR_CHNGS','HOUSEHOLD_ID','CLNTS_IN_HSHLD','AVG_CARD_BAL','CUST_TYPE','HOME_BRANCH_CTY','HOME_BRANCH_ST','SALESPERSON_ID','NUM_LATE_PYMNTS','NUM_CARD_APPLS','BANKRUPTCY_LAST_7YRS','MONTHLY_MORTGAGE_PYMNT','CREDIT_SCORE','DEFAULT')"},"inputs":[{"id":"inputPort1","links":[{"node_id_ref":"99df2273-b0cd-41a1-a34a-fd861b748d53","port_id_ref":"outputPort2"}]}],"outputs":[{"id":"outputPort3"}]},{"id":"target1","type":"binding","data_asset":{"properties":{"name":"banking_loans_default.csv_shaped.csv","mode":"overwrite"},"app_data":{}},"input":{"id":"targetInput1","link":{"node_id_ref":"6a8c8983-8452-4729-9112-07b6066f5201","port_id_ref":"outputPort3"}}}]}]}}